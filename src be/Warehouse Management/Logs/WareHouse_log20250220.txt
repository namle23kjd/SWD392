2025-02-20 13:33:38.983 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:39.006 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:39.007 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:42.186 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:42.205 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:42.205 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:33:42.508 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-20 13:33:42.554 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [WarehouseManagerment] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-02-20 13:33:42.608 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [WarehouseManagerment];
2025-02-20 13:34:00.717 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:00.738 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:00.738 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:15.931 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:15.950 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:15.951 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:34:16.415 +07:00 [INF] Executed DbCommand (170ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [WarehouseManagerment];
2025-02-20 13:34:16.471 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [WarehouseManagerment] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-02-20 13:34:16.483 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-20 13:34:16.486 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-20 13:34:16.501 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-20 13:34:16.537 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-20 13:34:16.543 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-20 13:34:16.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-20 13:34:16.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-20 13:34:16.553 +07:00 [INF] Applying migration '20250118061037_CreateDatabase'.
2025-02-20 13:34:16.598 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-02-20 13:34:16.600 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(21) NOT NULL,
    [Status] bit NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-02-20 13:34:16.633 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Platforms] (
    [PlatformId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [ApiKey] nvarchar(max) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Platforms] PRIMARY KEY ([PlatformId])
);
2025-02-20 13:34:16.636 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [SupplierId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [CreateAt] datetime2 NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([SupplierId])
);
2025-02-20 13:34:16.638 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-02-20 13:34:16.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-02-20 13:34:18.451 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-02-20 13:34:18.453 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-02-20 13:34:18.454 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-02-20 13:34:19.889 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [ProductId] int NOT NULL IDENTITY,
    [SKU] nvarchar(max) NULL,
    [Barcode] nvarchar(max) NULL,
    [ProductName] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [BasePrice] decimal(18,2) NULL,
    [CreatedAt] datetime2 NULL,
    [UpdatedAt] datetime2 NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([ProductId]),
    CONSTRAINT [FK_Products_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2025-02-20 13:34:19.891 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Shelves] (
    [ShelfId] int NOT NULL IDENTITY,
    [Code] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [Location] nvarchar(max) NULL,
    [Capacity] int NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Shelves] PRIMARY KEY ([ShelfId]),
    CONSTRAINT [FK_Shelves_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2025-02-20 13:34:19.893 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Orders] (
    [OrderId] int NOT NULL IDENTITY,
    [PlatformId] int NOT NULL,
    [PlatformOrderId] nvarchar(max) NULL,
    [OrderStatus] nvarchar(max) NULL,
    [OrderDate] datetime2 NOT NULL,
    [TotalAmount] decimal(18,2) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([OrderId]),
    CONSTRAINT [FK_Orders_Platforms_PlatformId] FOREIGN KEY ([PlatformId]) REFERENCES [Platforms] ([PlatformId]) ON DELETE CASCADE
);
2025-02-20 13:34:19.894 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Lots] (
    [LotId] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [ShelfId] int NOT NULL,
    [LotCode] nvarchar(max) NULL,
    [Quantity] int NOT NULL,
    [ManufactureDate] datetime2 NOT NULL,
    [ExpiryDate] datetime2 NOT NULL,
    [Status] bit NOT NULL,
    [CreateAt] datetime2 NOT NULL,
    [UpdateAt] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_Lots] PRIMARY KEY ([LotId]),
    CONSTRAINT [FK_Lots_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Lots_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([ProductId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Lots_Shelves_ShelfId] FOREIGN KEY ([ShelfId]) REFERENCES [Shelves] ([ShelfId]) ON DELETE CASCADE
);
2025-02-20 13:34:21.081 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrderItems] (
    [OrderItemId] int NOT NULL IDENTITY,
    [OrderId] int NOT NULL,
    [ProductId] int NOT NULL,
    [Quantity] int NOT NULL,
    [UnitPrice] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_OrderItems] PRIMARY KEY ([OrderItemId]),
    CONSTRAINT [FK_OrderItems_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([OrderId]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrderItems_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([ProductId]) ON DELETE CASCADE
);
2025-02-20 13:34:21.083 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StockTransactions] (
    [TransactionId] int NOT NULL IDENTITY,
    [ProductId] int NOT NULL,
    [SupplierId] int NOT NULL,
    [LotId] int NOT NULL,
    [UserId] nvarchar(450) NULL,
    [Quantity] int NOT NULL,
    [Type] nvarchar(max) NULL,
    [TransactionDate] datetime2 NOT NULL,
    CONSTRAINT [PK_StockTransactions] PRIMARY KEY ([TransactionId]),
    CONSTRAINT [FK_StockTransactions_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_StockTransactions_Lots_LotId] FOREIGN KEY ([LotId]) REFERENCES [Lots] ([LotId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_StockTransactions_Products_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Products] ([ProductId]) ON DELETE CASCADE,
    CONSTRAINT [FK_StockTransactions_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([SupplierId]) ON DELETE NO ACTION
);
2025-02-20 13:34:22.628 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'373e112e - 121b - 4f3f - bb3e - dc30c08b9999', N'373e112e - 121b - 4f3f - bb3e - dc30c08b9999', N'Admin', N'ADMIN'),
(N'9116bb38-85b1-4345-bf4a-7c0819a8ef3b', N'9116bb38-85b1-4345-bf4a-7c0819a8ef3b', N'Staff', N'STAFF');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-02-20 13:34:22.630 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-02-20 13:34:22.643 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-02-20 13:34:22.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-02-20 13:34:22.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-02-20 13:34:23.948 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-02-20 13:34:23.949 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2025-02-20 13:34:23.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-02-20 13:34:23.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Lots_ProductId] ON [Lots] ([ProductId]);
2025-02-20 13:34:23.951 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Lots_ShelfId] ON [Lots] ([ShelfId]);
2025-02-20 13:34:23.951 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Lots_UserId] ON [Lots] ([UserId]);
2025-02-20 13:34:23.952 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderItems_OrderId] ON [OrderItems] ([OrderId]);
2025-02-20 13:34:23.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrderItems_ProductId] ON [OrderItems] ([ProductId]);
2025-02-20 13:34:23.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_PlatformId] ON [Orders] ([PlatformId]);
2025-02-20 13:34:23.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2025-02-20 13:34:23.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Shelves_UserId] ON [Shelves] ([UserId]);
2025-02-20 13:34:23.956 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_StockTransactions_LotId] ON [StockTransactions] ([LotId]);
2025-02-20 13:34:24.625 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_StockTransactions_ProductId] ON [StockTransactions] ([ProductId]);
2025-02-20 13:34:24.627 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_StockTransactions_SupplierId] ON [StockTransactions] ([SupplierId]);
2025-02-20 13:34:24.628 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_StockTransactions_UserId] ON [StockTransactions] ([UserId]);
2025-02-20 13:34:24.629 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250118061037_CreateDatabase', N'9.0.1');
2025-02-20 13:34:24.630 +07:00 [INF] Applying migration '20250120045533_UpdateDatabase'.
2025-02-20 13:34:24.679 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Discriminator');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [Discriminator];
2025-02-20 13:34:24.694 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Status');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [AspNetUsers] SET [Status] = CAST(0 AS bit) WHERE [Status] IS NULL;
ALTER TABLE [AspNetUsers] ALTER COLUMN [Status] bit NOT NULL;
ALTER TABLE [AspNetUsers] ADD DEFAULT CAST(0 AS bit) FOR [Status];
2025-02-20 13:34:25.736 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250120045533_UpdateDatabase', N'9.0.1');
2025-02-20 13:34:25.736 +07:00 [INF] Applying migration '20250206025939_FixDb'.
2025-02-20 13:34:25.765 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'373e112e - 121b - 4f3f - bb3e - dc30c08b9999';
SELECT @@ROWCOUNT;
2025-02-20 13:34:25.767 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9116bb38-85b1-4345-bf4a-7c0819a8ef3b';
SELECT @@ROWCOUNT;
2025-02-20 13:34:25.773 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'0a589cd2-2113-4106-901d-aba2518cc5b0', NULL, N'Admin', N'ADMIN'),
(N'73373929-3552-4b5f-97c5-4f55c0ce0d0b', NULL, N'Staff', N'STAFF'),
(N'de3be95b-1b82-4803-874a-0cf0e90dabab', NULL, N'Manager', N'MANAGER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-02-20 13:34:25.774 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250206025939_FixDb', N'9.0.1');
2025-02-20 13:34:25.774 +07:00 [INF] Applying migration '20250206030251_YourMigrationName'.
2025-02-20 13:34:26.866 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'0a589cd2-2113-4106-901d-aba2518cc5b0';
SELECT @@ROWCOUNT;
2025-02-20 13:34:26.868 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'73373929-3552-4b5f-97c5-4f55c0ce0d0b';
SELECT @@ROWCOUNT;
2025-02-20 13:34:26.870 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'de3be95b-1b82-4803-874a-0cf0e90dabab';
SELECT @@ROWCOUNT;
2025-02-20 13:34:26.876 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'373e112e-121b-4f3f-bb3e-dc30c08b9999', N'373e112e-121b-4f3f-bb3e-dc30c08b9999', N'Admin', N'ADMIN'),
(N'9116bb38-85b1-4345-bf4a-7c0819a8ef3b', N'9116bb38-85b1-4345-bf4a-7c0819a8ef3b', N'Staff', N'STAFF'),
(N'b1234567-89ab-cdef-0123-456789abcdef', N'b1234567-89ab-cdef-0123-456789abcdef', N'Manager', N'MANAGER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2025-02-20 13:34:26.877 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250206030251_YourMigrationName', N'9.0.1');
2025-02-20 13:34:26.877 +07:00 [INF] Applying migration '20250206031513_IdentityUSer'.
2025-02-20 13:34:26.903 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'Status');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [Status] bit NULL;
2025-02-20 13:34:27.672 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Discriminator] nvarchar(21) NOT NULL DEFAULT N'';
2025-02-20 13:34:27.673 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250206031513_IdentityUSer', N'9.0.1');
2025-02-20 13:34:27.673 +07:00 [INF] Applying migration '20250220063401_TestStockTransaction'.
2025-02-20 13:34:27.685 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Suppliers] ADD [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-02-20 13:34:27.685 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250220063401_TestStockTransaction', N'9.0.1');
2025-02-20 13:34:27.688 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-20 13:43:12.725 +07:00 [INF] User profile is available. Using 'C:\Users\PC-PHUONG NAM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-20 13:43:13.112 +07:00 [INF] Now listening on: https://localhost:7190
2025-02-20 13:43:13.114 +07:00 [INF] Now listening on: http://localhost:5299
2025-02-20 13:43:13.117 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-20 13:43:13.119 +07:00 [INF] Hosting environment: Development
2025-02-20 13:43:13.120 +07:00 [INF] Content root path: C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management
2025-02-20 13:43:14.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - null null
2025-02-20 13:43:15.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - 200 null text/html;charset=utf-8 1210.4445ms
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - null null
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.js - null null
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.css - null null
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/swagger-ui-standalone-preset.js - null null
2025-02-20 13:43:17.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.js - 200 null application/javascript;charset=utf-8 61.117ms
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/swagger-ui-bundle.js - null null
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - null null
2025-02-20 13:43:17.634 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/swagger-ui.css - null null
2025-02-20 13:43:17.705 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 71.2659ms
2025-02-20 13:43:17.708 +07:00 [INF] The file /index.css was not modified
2025-02-20 13:43:17.708 +07:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-02-20 13:43:17.709 +07:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-02-20 13:43:17.714 +07:00 [INF] The file /swagger-ui.css was not modified
2025-02-20 13:43:17.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.css - 304 null text/css 90.1525ms
2025-02-20 13:43:17.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 90.4209ms
2025-02-20 13:43:17.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/swagger-ui-bundle.js - 304 null text/javascript 90.6771ms
2025-02-20 13:43:17.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/swagger-ui.css - 304 null text/css 93.2523ms
2025-02-20 13:43:17.788 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - 200 null text/javascript; charset=UTF-8 153.2324ms
2025-02-20 13:43:17.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-02-20 13:43:18.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/favicon-32x32.png - null null
2025-02-20 13:43:18.084 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-02-20 13:43:18.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/favicon-32x32.png - 200 628 image/png 13.9084ms
2025-02-20 13:43:18.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 228.871ms
2025-02-20 13:45:23.361 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Auth/register - application/json 115
2025-02-20 13:45:23.678 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.AuthController.Register (Warehouse Management)'
2025-02-20 13:45:23.703 +07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Warehouse_Management.Models.DTO.RegisterRequestDTO) on controller Warehouse_Management.Controllers.AuthController (Warehouse Management).
2025-02-20 13:45:24.094 +07:00 [INF] Registration attempt for username: namle2385@gmail.com
2025-02-20 13:45:24.724 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:45:24.726 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:45:24.727 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 13:45:25.438 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-20 13:45:25.620 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 21), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-02-20 13:45:25.643 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-20 13:45:25.669 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.705 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-20 13:45:25.714 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.731 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-20 13:45:25.765 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [Status] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-02-20 13:45:25.784 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-20 13:45:25.792 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-20 13:45:25.804 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.811 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-20 13:45:25.821 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [Status] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-02-20 13:45:25.828 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-20 13:45:25.833 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-20 13:45:25.844 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-20 13:45:25.849 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-20 13:45:25.859 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [Status] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2025-02-20 13:45:25.865 +07:00 [INF] Registration successful for user: namle2385@gmail.com
2025-02-20 13:45:25.872 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:45:25.904 +07:00 [INF] Executed action Warehouse_Management.Controllers.AuthController.Register (Warehouse Management) in 2195.1094ms
2025-02-20 13:45:25.907 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.AuthController.Register (Warehouse Management)'
2025-02-20 13:45:25.916 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Auth/register - 200 null application/json; charset=utf-8 2558.588ms
2025-02-20 13:45:49.800 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Auth/login - application/json 67
2025-02-20 13:45:49.818 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.AuthController.Login (Warehouse Management)'
2025-02-20 13:45:49.823 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Warehouse_Management.Models.DTO.LoginRequestDTO) on controller Warehouse_Management.Controllers.AuthController (Warehouse Management).
2025-02-20 13:45:49.831 +07:00 [INF] Login attempt for username: namle2385@gmail.com
2025-02-20 13:45:49.869 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-20 13:45:49.998 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-20 13:45:50.054 +07:00 [INF] Login successful for user: namle2385@gmail.com
2025-02-20 13:45:50.056 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:45:50.062 +07:00 [INF] Executed action Warehouse_Management.Controllers.AuthController.Login (Warehouse Management) in 237.5883ms
2025-02-20 13:45:50.064 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.AuthController.Login (Warehouse Management)'
2025-02-20 13:45:50.066 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Auth/login - 200 null application/json; charset=utf-8 265.4823ms
2025-02-20 13:46:17.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product - null null
2025-02-20 13:46:17.931 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:46:17.935 +07:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:46:17.958 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
2025-02-20 13:46:17.968 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:46:17.977 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management) in 38.5571ms
2025-02-20 13:46:17.978 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:46:17.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product - 200 null application/json; charset=utf-8 96.8782ms
2025-02-20 13:47:46.693 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Product - application/json 128
2025-02-20 13:47:46.706 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:47:46.714 +07:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Warehouse_Management.Models.DTO.Product.CreateProductDTO) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:47:46.781 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Barcode], [BasePrice], [CreatedAt], [Description], [ProductName], [SKU], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ProductId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 13:47:46.796 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:47:46.801 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management) in 82.9078ms
2025-02-20 13:47:46.806 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:47:46.807 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Product - 201 null application/json; charset=utf-8 115.0663ms
2025-02-20 13:50:39.828 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Product - application/json 130
2025-02-20 13:50:39.838 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:50:39.841 +07:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Warehouse_Management.Models.DTO.Product.CreateProductDTO) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:50:39.860 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Barcode], [BasePrice], [CreatedAt], [Description], [ProductName], [SKU], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ProductId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 13:50:39.863 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:50:39.864 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management) in 19.0371ms
2025-02-20 13:50:39.866 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:50:39.867 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Product - 201 null application/json; charset=utf-8 40.2103ms
2025-02-20 13:51:00.778 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Product - application/json 133
2025-02-20 13:51:00.782 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:51:00.783 +07:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Warehouse_Management.Models.DTO.Product.CreateProductDTO) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:51:00.792 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Barcode], [BasePrice], [CreatedAt], [Description], [ProductName], [SKU], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ProductId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 13:51:00.797 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:51:00.798 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management) in 10.9891ms
2025-02-20 13:51:00.800 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.CreateProduct (Warehouse Management)'
2025-02-20 13:51:00.804 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Product - 201 null application/json; charset=utf-8 26.016ms
2025-02-20 13:51:03.774 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product - null null
2025-02-20 13:51:03.778 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:51:03.779 +07:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:51:03.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
2025-02-20 13:51:03.789 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:51:03.791 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management) in 9.6896ms
2025-02-20 13:51:03.792 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:51:03.793 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product - 200 null application/json; charset=utf-8 19.2373ms
2025-02-20 13:51:50.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku?sku=Milk - null null
2025-02-20 13:51:50.992 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:51.002 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:51:51.025 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\'
2025-02-20 13:51:51.028 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:51:51.030 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 25.1488ms
2025-02-20 13:51:51.035 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:51.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku?sku=Milk - 200 null application/json; charset=utf-8 56.1774ms
2025-02-20 13:51:55.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku?sku=Mil - null null
2025-02-20 13:51:55.811 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:55.812 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:51:55.818 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sku_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\'
2025-02-20 13:51:55.821 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:51:55.822 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 7.758ms
2025-02-20 13:51:55.824 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:55.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku?sku=Mil - 200 null application/json; charset=utf-8 17.6051ms
2025-02-20 13:51:59.458 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku - null null
2025-02-20 13:51:59.461 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:59.464 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:51:59.472 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
2025-02-20 13:51:59.476 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:51:59.477 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 8.8449ms
2025-02-20 13:51:59.484 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:51:59.485 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku - 200 null application/json; charset=utf-8 27.2978ms
2025-02-20 13:52:22.984 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/name?name=a - null null
2025-02-20 13:52:22.991 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:52:22.992 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:52:23.005 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductName] LIKE @__name_0_contains ESCAPE N'\'
2025-02-20 13:52:23.007 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:52:23.009 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 15.1139ms
2025-02-20 13:52:23.014 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:52:23.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/name?name=a - 200 null application/json; charset=utf-8 32.6555ms
2025-02-20 13:53:03.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku?sku=m - null null
2025-02-20 13:53:03.288 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:53:03.290 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:53:03.299 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\'
2025-02-20 13:53:03.303 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:53:03.305 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 10.9967ms
2025-02-20 13:53:03.311 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:53:03.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku?sku=m - 200 null application/json; charset=utf-8 31.0085ms
2025-02-20 13:54:22.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku,name,barcode?sku=m&barcode=r&name=b - null null
2025-02-20 13:54:22.642 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:54:22.644 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:54:22.654 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000), @__barcode_1_contains='?' (Size = 4000), @__name_2_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\' AND [p].[Barcode] LIKE @__barcode_1_contains ESCAPE N'\' AND [p].[ProductName] LIKE @__name_2_contains ESCAPE N'\'
2025-02-20 13:54:22.657 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:54:22.659 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 13.4742ms
2025-02-20 13:54:22.664 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:54:22.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku,name,barcode?sku=m&barcode=r&name=b - 404 null application/json; charset=utf-8 29.3688ms
2025-02-20 13:54:42.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku?sku=m - null null
2025-02-20 13:54:42.326 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:54:42.329 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:54:42.334 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\'
2025-02-20 13:54:42.338 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:54:42.341 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 9.9893ms
2025-02-20 13:54:42.342 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:54:42.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku?sku=m - 200 null application/json; charset=utf-8 20.43ms
2025-02-20 13:55:12.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku,barcode?sku=i&name=g - null null
2025-02-20 13:55:12.131 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:55:12.132 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:55:12.142 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000), @__name_1_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\' AND [p].[ProductName] LIKE @__name_1_contains ESCAPE N'\'
2025-02-20 13:55:12.145 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:55:12.147 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 12.3196ms
2025-02-20 13:55:12.151 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:55:12.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku,barcode?sku=i&name=g - 200 null application/json; charset=utf-8 29.3635ms
2025-02-20 13:57:11.004 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/sku?sku=i - null null
2025-02-20 13:57:11.011 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:57:11.012 +07:00 [INF] Route matched with {action = "SearchProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String, System.String, System.String) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:57:11.017 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sku_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] LIKE @__sku_0_contains ESCAPE N'\'
2025-02-20 13:57:11.020 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:57:11.021 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management) in 7.1242ms
2025-02-20 13:57:11.025 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.SearchProducts (Warehouse Management)'
2025-02-20 13:57:11.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/sku?sku=i - 200 null application/json; charset=utf-8 22.7776ms
2025-02-20 13:58:13.058 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/by-id/1 - null null
2025-02-20 13:58:13.071 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:13.078 +07:00 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:58:13.090 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__id_0
2025-02-20 13:58:13.094 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:58:13.096 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management) in 15.2252ms
2025-02-20 13:58:13.098 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:13.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/by-id/1 - 200 null application/json; charset=utf-8 41.324ms
2025-02-20 13:58:17.326 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/by-id/2 - null null
2025-02-20 13:58:17.329 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:17.334 +07:00 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:58:17.342 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__id_0
2025-02-20 13:58:17.346 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:58:17.348 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management) in 11.0052ms
2025-02-20 13:58:17.349 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:17.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/by-id/2 - 200 null application/json; charset=utf-8 25.2442ms
2025-02-20 13:58:21.102 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product/by-id/3 - null null
2025-02-20 13:58:21.105 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:21.106 +07:00 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:58:21.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__id_0
2025-02-20 13:58:21.115 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:58:21.116 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management) in 7.687ms
2025-02-20 13:58:21.118 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetProductById (Warehouse Management)'
2025-02-20 13:58:21.119 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product/by-id/3 - 200 null application/json; charset=utf-8 17.4089ms
2025-02-20 13:59:00.602 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7190/api/Product/3 - application/json 121
2025-02-20 13:59:00.609 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.UpdateProduct (Warehouse Management)'
2025-02-20 13:59:00.612 +07:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Warehouse_Management.Models.DTO.Product.UpdateProductDTO) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:59:00.621 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__id_0
2025-02-20 13:59:00.636 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Barcode] = @p0, [BasePrice] = @p1, [CreatedAt] = @p2, [Description] = @p3, [ProductName] = @p4, [SKU] = @p5, [UpdatedAt] = @p6, [UserId] = @p7
OUTPUT 1
WHERE [ProductId] = @p8;
2025-02-20 13:59:00.638 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:59:00.645 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.UpdateProduct (Warehouse Management) in 30.7189ms
2025-02-20 13:59:00.647 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.UpdateProduct (Warehouse Management)'
2025-02-20 13:59:00.814 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Warehouse_Management.Middlewares.InternalServerErrorHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\InternalServerErrorHandler.cs:line 22
   at Warehouse_Management.Middlewares.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\GlobalExceptionHandler.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-20 13:59:00.852 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-02-20 13:59:00.854 +07:00 [ERR] Connection id "0HNAHF7CJ8ILO", Request id "0HNAHF7CJ8ILO:00000025": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Warehouse_Management.Middlewares.InternalServerErrorHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\InternalServerErrorHandler.cs:line 22
   at Warehouse_Management.Middlewares.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\GlobalExceptionHandler.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-02-20 13:59:00.874 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7190/api/Product/3 - 204 null application/json; charset=utf-8 271.6705ms
2025-02-20 13:59:06.934 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product - null null
2025-02-20 13:59:06.938 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:59:06.942 +07:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:59:06.950 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
2025-02-20 13:59:06.954 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:59:06.955 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management) in 9.6156ms
2025-02-20 13:59:06.957 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:59:06.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product - 200 null application/json; charset=utf-8 24.6396ms
2025-02-20 13:59:15.945 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/Product/3 - null null
2025-02-20 13:59:15.949 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.DeleteProduct (Warehouse Management)'
2025-02-20 13:59:15.953 +07:00 [INF] Route matched with {action = "DeleteProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(Int32) on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:59:15.959 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__id_0
2025-02-20 13:59:15.973 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Products]
OUTPUT 1
WHERE [ProductId] = @p0;
2025-02-20 13:59:15.980 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-20 13:59:15.981 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.DeleteProduct (Warehouse Management) in 26.2747ms
2025-02-20 13:59:15.982 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.DeleteProduct (Warehouse Management)'
2025-02-20 13:59:15.984 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/Product/3 - 204 null null 38.8625ms
2025-02-20 13:59:21.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Product - null null
2025-02-20 13:59:21.441 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:59:21.442 +07:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Warehouse_Management.Controllers.ProductController (Warehouse Management).
2025-02-20 13:59:21.454 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId]
FROM [Products] AS [p]
2025-02-20 13:59:21.465 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 13:59:21.466 +07:00 [INF] Executed action Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management) in 16.461ms
2025-02-20 13:59:21.468 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ProductController.GetAllProducts (Warehouse Management)'
2025-02-20 13:59:21.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Product - 200 null application/json; charset=utf-8 31.8374ms
2025-02-20 14:09:30.534 +07:00 [INF] User profile is available. Using 'C:\Users\PC-PHUONG NAM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-20 14:09:30.801 +07:00 [INF] Now listening on: https://localhost:7190
2025-02-20 14:09:30.803 +07:00 [INF] Now listening on: http://localhost:5299
2025-02-20 14:09:30.805 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-20 14:09:30.806 +07:00 [INF] Hosting environment: Development
2025-02-20 14:09:30.807 +07:00 [INF] Content root path: C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management
2025-02-20 14:09:31.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - null null
2025-02-20 14:09:31.989 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - 200 null text/html;charset=utf-8 369.4372ms
2025-02-20 14:09:34.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.js - null null
2025-02-20 14:09:34.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - null null
2025-02-20 14:09:34.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - null null
2025-02-20 14:09:34.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8381ms
2025-02-20 14:09:34.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 46.6545ms
2025-02-20 14:09:34.106 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.636ms
2025-02-20 14:09:34.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-02-20 14:09:34.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.5135ms
2025-02-20 14:12:09.946 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Supplier - application/json 95
2025-02-20 14:12:10.019 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:12:10.046 +07:00 [INF] Route matched with {action = "CreateSupplier", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplier(Warehouse_Management.Models.DTO.Supplier.CreateSupplierDTO) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:12:10.932 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:12:10.935 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:12:10.937 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:12:11.672 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[Email] = @__email_0
2025-02-20 14:12:11.824 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Suppliers] ([CreateAt], [Email], [IsDeleted], [Name], [Phone])
OUTPUT INSERTED.[SupplierId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-20 14:12:11.852 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:12:11.879 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management) in 1826.6349ms
2025-02-20 14:12:11.883 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:12:11.890 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Supplier - 201 null application/json; charset=utf-8 1944.1496ms
2025-02-20 14:12:27.135 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Supplier - application/json 89
2025-02-20 14:12:27.140 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:12:27.142 +07:00 [INF] Route matched with {action = "CreateSupplier", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplier(Warehouse_Management.Models.DTO.Supplier.CreateSupplierDTO) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:12:27.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[Email] = @__email_0
2025-02-20 14:12:27.170 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Suppliers] ([CreateAt], [Email], [IsDeleted], [Name], [Phone])
OUTPUT INSERTED.[SupplierId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-20 14:12:27.173 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:12:27.174 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management) in 30.3897ms
2025-02-20 14:12:27.176 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:12:27.177 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Supplier - 201 null application/json; charset=utf-8 42.7532ms
2025-02-20 14:14:00.142 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Supplier - application/json 97
2025-02-20 14:14:00.148 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:14:00.150 +07:00 [INF] Route matched with {action = "CreateSupplier", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplier(Warehouse_Management.Models.DTO.Supplier.CreateSupplierDTO) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:14:00.203 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[Email] = @__email_0
2025-02-20 14:14:00.209 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Suppliers] ([CreateAt], [Email], [IsDeleted], [Name], [Phone])
OUTPUT INSERTED.[SupplierId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-20 14:14:00.215 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:14:00.218 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management) in 65.0064ms
2025-02-20 14:14:00.226 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.CreateSupplier (Warehouse Management)'
2025-02-20 14:14:00.227 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Supplier - 201 null application/json; charset=utf-8 87.2575ms
2025-02-20 14:14:08.817 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=1&pageSize=10 - null null
2025-02-20 14:14:08.822 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:08.832 +07:00 [INF] Route matched with {action = "GetAllSuppliers", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSuppliers(Int32, Int32) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:14:08.874 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-02-20 14:14:08.884 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:14:08.886 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:14:08.894 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-20 14:14:08.907 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:14:08.917 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management) in 82.5589ms
2025-02-20 14:14:08.918 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:08.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 103.0238ms
2025-02-20 14:14:24.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=3&pageSize=1 - null null
2025-02-20 14:14:24.132 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:24.133 +07:00 [INF] Route matched with {action = "GetAllSuppliers", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSuppliers(Int32, Int32) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:14:24.140 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-02-20 14:14:24.146 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-20 14:14:24.150 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:14:24.151 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management) in 15.8689ms
2025-02-20 14:14:24.153 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:24.154 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=3&pageSize=1 - 200 null application/json; charset=utf-8 27.3102ms
2025-02-20 14:14:36.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=1&pageSize=1 - null null
2025-02-20 14:14:36.199 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:36.201 +07:00 [INF] Route matched with {action = "GetAllSuppliers", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSuppliers(Int32, Int32) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:14:36.208 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-02-20 14:14:36.214 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-20 14:14:36.217 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:14:36.219 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management) in 14.7102ms
2025-02-20 14:14:36.221 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.GetAllSuppliers (Warehouse Management)'
2025-02-20 14:14:36.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Supplier?pageNumber=1&pageSize=1 - 200 null application/json; charset=utf-8 30.0239ms
2025-02-20 14:14:48.961 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Supplier/3 - null null
2025-02-20 14:14:48.965 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.SupplierController.GetSupplierById (Warehouse Management)'
2025-02-20 14:14:48.973 +07:00 [INF] Route matched with {action = "GetSupplierById", controller = "Supplier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierById(Int32) on controller Warehouse_Management.Controllers.SupplierController (Warehouse Management).
2025-02-20 14:14:48.988 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SupplierId], [s].[CreateAt], [s].[Email], [s].[IsDeleted], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
WHERE [s].[SupplierId] = @__id_0
2025-02-20 14:14:48.991 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:14:48.992 +07:00 [INF] Executed action Warehouse_Management.Controllers.SupplierController.GetSupplierById (Warehouse Management) in 15.1849ms
2025-02-20 14:14:48.993 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.SupplierController.GetSupplierById (Warehouse Management)'
2025-02-20 14:14:48.995 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Supplier/3 - 200 null application/json; charset=utf-8 34.1282ms
2025-02-20 14:17:42.883 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Shelf - application/json 95
2025-02-20 14:17:42.896 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:17:42.901 +07:00 [INF] Route matched with {action = "CreateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateShelf(Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:17:42.907 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management) in 3.174ms
2025-02-20 14:17:42.910 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:17:42.968 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Shelf - 500 null application/json 85.0833ms
2025-02-20 14:26:45.006 +07:00 [INF] User profile is available. Using 'C:\Users\PC-PHUONG NAM\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-20 14:26:45.453 +07:00 [INF] Now listening on: https://localhost:7190
2025-02-20 14:26:45.455 +07:00 [INF] Now listening on: http://localhost:5299
2025-02-20 14:26:45.461 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-20 14:26:45.464 +07:00 [INF] Hosting environment: Development
2025-02-20 14:26:45.465 +07:00 [INF] Content root path: C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management
2025-02-20 14:26:46.211 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - null null
2025-02-20 14:26:46.774 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - 200 null text/html;charset=utf-8 577.6421ms
2025-02-20 14:26:49.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - null null
2025-02-20 14:26:49.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/index.js - null null
2025-02-20 14:26:49.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - null null
2025-02-20 14:26:49.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/index.js - 200 null application/javascript;charset=utf-8 18.653ms
2025-02-20 14:26:49.452 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - 200 13776 application/javascript; charset=utf-8 50.0542ms
2025-02-20 14:26:49.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.3406ms
2025-02-20 14:26:49.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-02-20 14:26:49.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.5316ms
2025-02-20 14:30:15.398 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Shelf - application/json 113
2025-02-20 14:30:15.484 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:15.507 +07:00 [INF] Route matched with {action = "CreateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateShelf(Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:30:16.435 +07:00 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'Order'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:30:16.437 +07:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'OrderItem'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:30:16.439 +07:00 [WRN] No store type was specified for the decimal property 'BasePrice' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-20 14:30:17.975 +07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__code_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shelves] AS [s]
        WHERE [s].[Code] = @__code_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-20 14:30:18.246 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shelves] ([Capacity], [Code], [CreatedAt], [IsActive], [Location], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ShelfId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 14:30:18.279 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:30:18.313 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management) in 2797.9063ms
2025-02-20 14:30:18.316 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:18.329 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Shelf - 201 null application/json; charset=utf-8 2931.1465ms
2025-02-20 14:30:37.898 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Shelf - application/json 113
2025-02-20 14:30:37.910 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:37.913 +07:00 [INF] Route matched with {action = "CreateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateShelf(Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:30:37.948 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__code_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shelves] AS [s]
        WHERE [s].[Code] = @__code_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-20 14:30:37.988 +07:00 [ERR] Shelf code M01 is already taken
System.Exception: Shelf code M01 is already taken
   at Warehouse_Management.Services.Service.ShelfService.CreateShelfAsync(CreateShelfDTO dto) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\ShelfService.cs:line 31
2025-02-20 14:30:38.028 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:30:38.030 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management) in 109.7285ms
2025-02-20 14:30:38.032 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:38.033 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Shelf - 500 null application/json; charset=utf-8 135.5089ms
2025-02-20 14:30:47.278 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Shelf - application/json 113
2025-02-20 14:30:47.284 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:47.285 +07:00 [INF] Route matched with {action = "CreateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateShelf(Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:30:47.337 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__code_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shelves] AS [s]
        WHERE [s].[Code] = @__code_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-20 14:30:47.347 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shelves] ([Capacity], [Code], [CreatedAt], [IsActive], [Location], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ShelfId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 14:30:47.351 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:30:47.352 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management) in 64.4888ms
2025-02-20 14:30:47.354 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:30:47.355 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Shelf - 201 null application/json; charset=utf-8 77.4817ms
2025-02-20 14:32:35.944 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Shelf - application/json 109
2025-02-20 14:32:35.952 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:32:35.953 +07:00 [INF] Route matched with {action = "CreateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateShelf(Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:32:35.966 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__code_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shelves] AS [s]
        WHERE [s].[Code] = @__code_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-20 14:32:35.986 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Shelves] ([Capacity], [Code], [CreatedAt], [IsActive], [Location], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[ShelfId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-20 14:32:35.988 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:32:35.990 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management) in 31.9147ms
2025-02-20 14:32:35.991 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.CreateShelf (Warehouse Management)'
2025-02-20 14:32:35.992 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Shelf - 201 null application/json; charset=utf-8 49.6871ms
2025-02-20 14:32:55.329 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Shelf?pageNumber=1&pageSize=10 - null null
2025-02-20 14:32:55.333 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management)'
2025-02-20 14:32:55.339 +07:00 [INF] Route matched with {action = "GetAllShelves", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllShelves(Int32, Int32) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:32:55.380 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Shelves] AS [s]
2025-02-20 14:32:55.392 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:32:55.394 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:32:55.428 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId]
FROM [Shelves] AS [s]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-20 14:32:55.445 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:32:55.456 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management) in 114.7061ms
2025-02-20 14:32:55.458 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management)'
2025-02-20 14:32:55.459 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Shelf?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 130.2123ms
2025-02-20 14:33:32.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Shelf/3 - null null
2025-02-20 14:33:32.870 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:32.878 +07:00 [INF] Route matched with {action = "GetShelfById", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShelfById(Int32) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:33:32.960 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [Shelves] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[ShelfId] = @__id_0
2025-02-20 14:33:33.007 +07:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method251(Closure, Object, IEnumerable`1, ResolutionContext)
   at Warehouse_Management.Services.Service.ShelfService.GetShelfByIdAsync(Int32 id) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\ShelfService.cs:line 80
2025-02-20 14:33:33.014 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:33:33.016 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management) in 135.4784ms
2025-02-20 14:33:33.022 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:33.024 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Shelf/3 - 500 null application/json; charset=utf-8 166.8116ms
2025-02-20 14:33:38.228 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Shelf/2 - null null
2025-02-20 14:33:38.233 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:38.235 +07:00 [INF] Route matched with {action = "GetShelfById", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShelfById(Int32) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:33:38.246 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [Shelves] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[ShelfId] = @__id_0
2025-02-20 14:33:38.270 +07:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method251(Closure, Object, IEnumerable`1, ResolutionContext)
   at Warehouse_Management.Services.Service.ShelfService.GetShelfByIdAsync(Int32 id) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\ShelfService.cs:line 80
2025-02-20 14:33:38.273 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:33:38.275 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management) in 37.418ms
2025-02-20 14:33:38.277 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:38.278 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Shelf/2 - 500 null application/json; charset=utf-8 50.373ms
2025-02-20 14:33:42.235 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Shelf/1 - null null
2025-02-20 14:33:42.244 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:42.246 +07:00 [INF] Route matched with {action = "GetShelfById", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetShelfById(Int32) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:33:42.264 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [Shelves] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[ShelfId] = @__id_0
2025-02-20 14:33:42.287 +07:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Shelf -> IEnumerable`1
Warehouse_Management.Models.Domain.Shelf -> System.Collections.Generic.IEnumerable`1[[Warehouse_Management.Models.DTO.Shelf.ShelfDTO, Warehouse Management, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method251(Closure, Object, IEnumerable`1, ResolutionContext)
   at Warehouse_Management.Services.Service.ShelfService.GetShelfByIdAsync(Int32 id) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\ShelfService.cs:line 80
2025-02-20 14:33:42.293 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:33:42.296 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management) in 40.7821ms
2025-02-20 14:33:42.297 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.GetShelfById (Warehouse Management)'
2025-02-20 14:33:42.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Shelf/1 - 500 null application/json; charset=utf-8 64.7831ms
2025-02-20 14:33:48.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Shelf?pageNumber=1&pageSize=10 - null null
2025-02-20 14:33:48.717 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management)'
2025-02-20 14:33:48.719 +07:00 [INF] Route matched with {action = "GetAllShelves", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllShelves(Int32, Int32) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:33:48.724 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Shelves] AS [s]
2025-02-20 14:33:48.729 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId]
FROM [Shelves] AS [s]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-20 14:33:48.732 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:33:48.734 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management) in 12.5516ms
2025-02-20 14:33:48.736 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.GetAllShelves (Warehouse Management)'
2025-02-20 14:33:48.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Shelf?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 23.6337ms
2025-02-20 14:34:45.268 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7190/api/Shelf/3 - application/json 113
2025-02-20 14:34:45.275 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.ShelfController.UpdateShelf (Warehouse Management)'
2025-02-20 14:34:45.279 +07:00 [INF] Route matched with {action = "UpdateShelf", controller = "Shelf"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateShelf(Int32, Warehouse_Management.Models.DTO.Shelf.CreateShelfDTO) on controller Warehouse_Management.Controllers.ShelfController (Warehouse Management).
2025-02-20 14:34:45.290 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShelfId], [s].[Capacity], [s].[Code], [s].[CreatedAt], [s].[IsActive], [s].[Location], [s].[Name], [s].[UpdatedAt], [s].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [Shelves] AS [s]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[ShelfId] = @__id_0
2025-02-20 14:34:45.303 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Shelves] SET [Capacity] = @p0, [Code] = @p1, [CreatedAt] = @p2, [IsActive] = @p3, [Location] = @p4, [Name] = @p5, [UpdatedAt] = @p6, [UserId] = @p7
OUTPUT 1
WHERE [ShelfId] = @p8;
2025-02-20 14:34:45.307 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:34:45.309 +07:00 [INF] Executed action Warehouse_Management.Controllers.ShelfController.UpdateShelf (Warehouse Management) in 27.8407ms
2025-02-20 14:34:45.315 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.ShelfController.UpdateShelf (Warehouse Management)'
2025-02-20 14:34:45.316 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7190/api/Shelf/3 - 200 null application/json; charset=utf-8 48.1264ms
2025-02-20 14:36:27.907 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Platform - application/json 62
2025-02-20 14:36:27.914 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:27.918 +07:00 [INF] Route matched with {action = "CreatePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePlatform(Warehouse_Management.Models.DTO.Platform.CreatePlatformDTO) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:36:27.944 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Platforms] ([ApiKey], [IsActive], [Name])
OUTPUT INSERTED.[PlatformId]
VALUES (@p0, @p1, @p2);
2025-02-20 14:36:27.949 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:36:27.951 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management) in 30.625ms
2025-02-20 14:36:27.953 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:27.954 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Platform - 201 null application/json; charset=utf-8 47.1913ms
2025-02-20 14:36:37.702 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Platform - application/json 64
2025-02-20 14:36:37.706 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:37.707 +07:00 [INF] Route matched with {action = "CreatePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePlatform(Warehouse_Management.Models.DTO.Platform.CreatePlatformDTO) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:36:37.715 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Platforms] ([ApiKey], [IsActive], [Name])
OUTPUT INSERTED.[PlatformId]
VALUES (@p0, @p1, @p2);
2025-02-20 14:36:37.718 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:36:37.720 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management) in 11.1794ms
2025-02-20 14:36:37.722 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:37.724 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Platform - 201 null application/json; charset=utf-8 22.8015ms
2025-02-20 14:36:50.376 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Platform - application/json 64
2025-02-20 14:36:50.380 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:50.382 +07:00 [INF] Route matched with {action = "CreatePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePlatform(Warehouse_Management.Models.DTO.Platform.CreatePlatformDTO) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:36:50.392 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Platforms] ([ApiKey], [IsActive], [Name])
OUTPUT INSERTED.[PlatformId]
VALUES (@p0, @p1, @p2);
2025-02-20 14:36:50.395 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:36:50.397 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management) in 12.4165ms
2025-02-20 14:36:50.400 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.CreatePlatform (Warehouse Management)'
2025-02-20 14:36:50.402 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Platform - 201 null application/json; charset=utf-8 26.0068ms
2025-02-20 14:36:54.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Platform - null null
2025-02-20 14:36:54.566 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management)'
2025-02-20 14:36:54.573 +07:00 [INF] Route matched with {action = "GetAllPlatforms", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPlatforms() on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:36:54.585 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
2025-02-20 14:36:54.591 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:36:54.595 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management) in 19.5824ms
2025-02-20 14:36:54.597 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management)'
2025-02-20 14:36:54.599 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Platform - 200 null application/json; charset=utf-8 38.8444ms
2025-02-20 14:37:25.299 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Platform/3 - null null
2025-02-20 14:37:25.309 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:37:25.314 +07:00 [INF] Route matched with {action = "GetPlatformById", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformById(Int32) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:37:25.333 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:37:25.340 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:37:25.342 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management) in 19.0874ms
2025-02-20 14:37:25.344 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:37:25.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Platform/3 - 200 null application/json; charset=utf-8 47.0693ms
2025-02-20 14:37:51.083 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7190/api/Platform/3 - application/json 66
2025-02-20 14:37:51.103 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management)'
2025-02-20 14:37:51.108 +07:00 [INF] Route matched with {action = "UpdatePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePlatform(Int32, Warehouse_Management.Models.DTO.Platform.UpdatePlatformDTO) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:37:51.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:37:51.127 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Platforms] SET [ApiKey] = @p0, [IsActive] = @p1, [Name] = @p2
OUTPUT 1
WHERE [PlatformId] = @p3;
2025-02-20 14:37:51.134 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:37:51.137 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management) in 25.4633ms
2025-02-20 14:37:51.141 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management)'
2025-02-20 14:37:51.142 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7190/api/Platform/3 - 200 null application/json; charset=utf-8 59.3974ms
2025-02-20 14:37:58.005 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Platform/4 - null null
2025-02-20 14:37:58.009 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:37:58.011 +07:00 [INF] Route matched with {action = "GetPlatformById", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformById(Int32) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:37:58.017 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:37:58.020 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:37:58.021 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management) in 7.685ms
2025-02-20 14:37:58.023 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:37:58.024 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Platform/4 - 404 null application/json; charset=utf-8 18.554ms
2025-02-20 14:38:06.532 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7190/api/Platform/4 - application/json 66
2025-02-20 14:38:06.537 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management)'
2025-02-20 14:38:06.541 +07:00 [INF] Route matched with {action = "UpdatePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePlatform(Int32, Warehouse_Management.Models.DTO.Platform.UpdatePlatformDTO) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:38:06.550 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:38:06.556 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:38:06.558 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management) in 13.9931ms
2025-02-20 14:38:06.560 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.UpdatePlatform (Warehouse Management)'
2025-02-20 14:38:06.562 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7190/api/Platform/4 - 404 null application/json; charset=utf-8 30.1125ms
2025-02-20 14:38:11.040 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/Platform/3 - null null
2025-02-20 14:38:11.045 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.DeletePlatform (Warehouse Management)'
2025-02-20 14:38:11.057 +07:00 [INF] Route matched with {action = "DeletePlatform", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeletePlatform(Int32) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:38:11.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:38:11.076 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:38:11.090 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Platforms]
OUTPUT 1
WHERE [PlatformId] = @p0;
2025-02-20 14:38:11.095 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:38:11.102 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.DeletePlatform (Warehouse Management) in 39.5494ms
2025-02-20 14:38:11.104 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.DeletePlatform (Warehouse Management)'
2025-02-20 14:38:11.251 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Warehouse_Management.Middlewares.InternalServerErrorHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\InternalServerErrorHandler.cs:line 22
   at Warehouse_Management.Middlewares.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\GlobalExceptionHandler.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-20 14:38:11.255 +07:00 [WRN] The response has already started, the error page middleware will not be executed.
2025-02-20 14:38:11.257 +07:00 [ERR] Connection id "0HNAHFVN4THT4", Request id "0HNAHFVN4THT4:0000002F": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Warehouse_Management.Middlewares.InternalServerErrorHandler.TryHandleAsync(HttpContext httpContext, Exception exception, CancellationToken cancellationToken) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\InternalServerErrorHandler.cs:line 22
   at Warehouse_Management.Middlewares.GlobalExceptionHandler.InvokeAsync(HttpContext context) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Middlewares\GlobalExceptionHandler.cs:line 33
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-02-20 14:38:11.279 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/Platform/3 - 204 null application/json; charset=utf-8 238.7559ms
2025-02-20 14:38:18.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Platform/3 - null null
2025-02-20 14:38:18.105 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:38:18.107 +07:00 [INF] Route matched with {action = "GetPlatformById", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformById(Int32) on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:38:18.121 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
WHERE [p].[PlatformId] = @__id_0
2025-02-20 14:38:18.128 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:38:18.131 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management) in 18.2035ms
2025-02-20 14:38:18.134 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.GetPlatformById (Warehouse Management)'
2025-02-20 14:38:18.136 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Platform/3 - 404 null application/json; charset=utf-8 35.2939ms
2025-02-20 14:38:26.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Platform - null null
2025-02-20 14:38:26.343 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management)'
2025-02-20 14:38:26.344 +07:00 [INF] Route matched with {action = "GetAllPlatforms", controller = "Platform"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPlatforms() on controller Warehouse_Management.Controllers.PlatformController (Warehouse Management).
2025-02-20 14:38:26.354 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlatformId], [p].[ApiKey], [p].[IsActive], [p].[Name]
FROM [Platforms] AS [p]
2025-02-20 14:38:26.360 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:38:26.366 +07:00 [INF] Executed action Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management) in 15.2159ms
2025-02-20 14:38:26.368 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.PlatformController.GetAllPlatforms (Warehouse Management)'
2025-02-20 14:38:26.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Platform - 200 null application/json; charset=utf-8 30.9871ms
2025-02-20 14:39:14.024 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Order - application/json 241
2025-02-20 14:39:14.036 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:39:14.042 +07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Warehouse_Management.Models.DTO.Order.CreateOrderDTO) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:39:14.147 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [OrderDate], [OrderStatus], [PlatformId], [PlatformOrderId], [TotalAmount])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-20 14:39:14.184 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Warehouse_Management.Data.WareHouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Platforms_PlatformId". The conflict occurred in database "WarehouseManagerment", table "dbo.Platforms", column 'PlatformId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f451f2bd-3a55-41af-9b2f-24dc1824768a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Platforms_PlatformId". The conflict occurred in database "WarehouseManagerment", table "dbo.Platforms", column 'PlatformId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f451f2bd-3a55-41af-9b2f-24dc1824768a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-20 14:39:14.259 +07:00 [ERR] Error occurred in OrderService
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Platforms_PlatformId". The conflict occurred in database "WarehouseManagerment", table "dbo.Platforms", column 'PlatformId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f451f2bd-3a55-41af-9b2f-24dc1824768a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Warehouse_Management.Repositories.Repository.OrderRepository.SaveChangesAsync() in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Repositories\Repository\OrderRepository.cs:line 41
   at Warehouse_Management.Services.Service.OrderService.CreateOrderAsync(CreateOrderDTO orderDto) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\OrderService.cs:line 36
2025-02-20 14:39:14.284 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:39:14.285 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management) in 239.0705ms
2025-02-20 14:39:14.291 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:39:14.292 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Order - 500 null application/json; charset=utf-8 267.8505ms
2025-02-20 14:40:55.492 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Order - application/json 243
2025-02-20 14:40:55.500 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:40:55.502 +07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Warehouse_Management.Models.DTO.Order.CreateOrderDTO) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:40:55.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [OrderDate], [OrderStatus], [PlatformId], [PlatformOrderId], [TotalAmount])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-20 14:40:55.522 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [ProductId], [Quantity], [UnitPrice])
OUTPUT INSERTED.[OrderItemId]
VALUES (@p6, @p7, @p8, @p9);
2025-02-20 14:40:55.536 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:40:55.542 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management) in 37.0493ms
2025-02-20 14:40:55.547 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:40:55.548 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Order - 201 null application/json; charset=utf-8 58.1218ms
2025-02-20 14:41:07.416 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Order - application/json 239
2025-02-20 14:41:07.422 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:41:07.426 +07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Warehouse_Management.Models.DTO.Order.CreateOrderDTO) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:41:07.455 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-20 14:41:07.463 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management) in 28.4615ms
2025-02-20 14:41:07.465 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:41:07.466 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Order - 400 null application/problem+json; charset=utf-8 50.199ms
2025-02-20 14:49:29.212 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/Order - application/json 248
2025-02-20 14:49:29.215 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:49:29.216 +07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Warehouse_Management.Models.DTO.Order.CreateOrderDTO) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:49:29.234 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedAt], [OrderDate], [OrderStatus], [PlatformId], [PlatformOrderId], [TotalAmount])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-20 14:49:29.239 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [ProductId], [Quantity], [UnitPrice])
OUTPUT INSERTED.[OrderItemId]
VALUES (@p6, @p7, @p8, @p9);
2025-02-20 14:49:29.246 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:49:29.247 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management) in 29.3429ms
2025-02-20 14:49:29.249 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.CreateOrder (Warehouse Management)'
2025-02-20 14:49:29.250 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/Order - 201 null application/json; charset=utf-8 37.9637ms
2025-02-20 14:49:43.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Order?pageNumber=1&pageSize=10 - null null
2025-02-20 14:49:43.490 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.GetAllOrders (Warehouse Management)'
2025-02-20 14:49:43.497 +07:00 [INF] Route matched with {action = "GetAllOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(Int32, Int32) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:49:43.514 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:49:43.516 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-20 14:49:43.550 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[OrderId], [o1].[CreatedAt], [o1].[OrderDate], [o1].[OrderStatus], [o1].[PlatformId], [o1].[PlatformOrderId], [o1].[TotalAmount], [o0].[OrderItemId], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT [o].[OrderId], [o].[CreatedAt], [o].[OrderDate], [o].[OrderStatus], [o].[PlatformId], [o].[PlatformOrderId], [o].[TotalAmount]
    FROM [Orders] AS [o]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o1]
LEFT JOIN [OrderItems] AS [o0] ON [o1].[OrderId] = [o0].[OrderId]
ORDER BY [o1].[OrderId]
2025-02-20 14:49:43.563 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:49:43.566 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.GetAllOrders (Warehouse Management) in 59.8805ms
2025-02-20 14:49:43.567 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.GetAllOrders (Warehouse Management)'
2025-02-20 14:49:43.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Order?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 83.6358ms
2025-02-20 14:49:53.296 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Order/1 - null null
2025-02-20 14:49:53.302 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management)'
2025-02-20 14:49:53.311 +07:00 [INF] Route matched with {action = "GetOrderById", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:49:53.334 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[OrderId], [o1].[CreatedAt], [o1].[OrderDate], [o1].[OrderStatus], [o1].[PlatformId], [o1].[PlatformOrderId], [o1].[TotalAmount], [o0].[OrderItemId], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[CreatedAt], [o].[OrderDate], [o].[OrderStatus], [o].[PlatformId], [o].[PlatformOrderId], [o].[TotalAmount]
    FROM [Orders] AS [o]
    WHERE [o].[OrderId] = @__id_0
) AS [o1]
LEFT JOIN [OrderItems] AS [o0] ON [o1].[OrderId] = [o0].[OrderId]
ORDER BY [o1].[OrderId]
2025-02-20 14:49:53.365 +07:00 [ERR] Error occurred in OrderService
System.Collections.Generic.KeyNotFoundException: Order with ID 1 not found
   at Warehouse_Management.Services.Service.OrderService.GetOrderByIdAsync(Int32 id) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\OrderService.cs:line 96
2025-02-20 14:49:53.367 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:49:53.368 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management) in 53.1552ms
2025-02-20 14:49:53.370 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management)'
2025-02-20 14:49:53.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Order/1 - 404 null application/json; charset=utf-8 75.3208ms
2025-02-20 14:50:02.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/Order/2 - null null
2025-02-20 14:50:02.019 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management)'
2025-02-20 14:50:02.021 +07:00 [INF] Route matched with {action = "GetOrderById", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(Int32) on controller Warehouse_Management.Controllers.OrderController (Warehouse Management).
2025-02-20 14:50:02.026 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o1].[OrderId], [o1].[CreatedAt], [o1].[OrderDate], [o1].[OrderStatus], [o1].[PlatformId], [o1].[PlatformOrderId], [o1].[TotalAmount], [o0].[OrderItemId], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[UnitPrice]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[CreatedAt], [o].[OrderDate], [o].[OrderStatus], [o].[PlatformId], [o].[PlatformOrderId], [o].[TotalAmount]
    FROM [Orders] AS [o]
    WHERE [o].[OrderId] = @__id_0
) AS [o1]
LEFT JOIN [OrderItems] AS [o0] ON [o1].[OrderId] = [o0].[OrderId]
ORDER BY [o1].[OrderId]
2025-02-20 14:50:02.032 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:50:02.033 +07:00 [INF] Executed action Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management) in 10.0763ms
2025-02-20 14:50:02.035 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.OrderController.GetOrderById (Warehouse Management)'
2025-02-20 14:50:02.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/Order/2 - 200 null application/json; charset=utf-8 20.8714ms
2025-02-20 14:50:36.983 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/StockTransaction - null null
2025-02-20 14:50:36.991 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactions (Warehouse Management)'
2025-02-20 14:50:36.998 +07:00 [INF] Route matched with {action = "GetTransactions", controller = "StockTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactions(Warehouse_Management.Models.DTO.StockTransaction.TransactionFilterDTO) on controller Warehouse_Management.Controllers.StockTransactionController (Warehouse Management).
2025-02-20 14:50:37.019 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [StockTransactions] AS [s]
2025-02-20 14:50:37.061 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[TransactionId], [s0].[LotId], [s0].[ProductId], [s0].[Quantity], [s0].[SupplierId], [s0].[TransactionDate], [s0].[Type], [s0].[UserId], [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId], [s1].[SupplierId], [s1].[CreateAt], [s1].[Email], [s1].[IsDeleted], [s1].[Name], [s1].[Phone], [l].[LotId], [l].[CreateAt], [l].[ExpiryDate], [l].[LotCode], [l].[ManufactureDate], [l].[ProductId], [l].[Quantity], [l].[ShelfId], [l].[Status], [l].[UpdateAt], [l].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM (
    SELECT [s].[TransactionId], [s].[LotId], [s].[ProductId], [s].[Quantity], [s].[SupplierId], [s].[TransactionDate], [s].[Type], [s].[UserId]
    FROM [StockTransactions] AS [s]
    ORDER BY [s].[TransactionDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Products] AS [p] ON [s0].[ProductId] = [p].[ProductId]
INNER JOIN [Suppliers] AS [s1] ON [s0].[SupplierId] = [s1].[SupplierId]
INNER JOIN [Lots] AS [l] ON [s0].[LotId] = [l].[LotId]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s0].[UserId] = [a0].[Id]
ORDER BY [s0].[TransactionDate] DESC
2025-02-20 14:50:37.073 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:50:37.080 +07:00 [INF] Executed action Warehouse_Management.Controllers.StockTransactionController.GetTransactions (Warehouse Management) in 79.6443ms
2025-02-20 14:50:37.082 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactions (Warehouse Management)'
2025-02-20 14:50:37.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/StockTransaction - 200 null application/json; charset=utf-8 101.8922ms
2025-02-20 14:50:45.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/StockTransaction/1 - null null
2025-02-20 14:50:45.672 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionById (Warehouse Management)'
2025-02-20 14:50:45.679 +07:00 [INF] Route matched with {action = "GetTransactionById", controller = "StockTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionById(Int32) on controller Warehouse_Management.Controllers.StockTransactionController (Warehouse Management).
2025-02-20 14:50:45.710 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[TransactionId], [s].[LotId], [s].[ProductId], [s].[Quantity], [s].[SupplierId], [s].[TransactionDate], [s].[Type], [s].[UserId], [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId], [s0].[SupplierId], [s0].[CreateAt], [s0].[Email], [s0].[IsDeleted], [s0].[Name], [s0].[Phone], [l].[LotId], [l].[CreateAt], [l].[ExpiryDate], [l].[LotCode], [l].[ManufactureDate], [l].[ProductId], [l].[Quantity], [l].[ShelfId], [l].[Status], [l].[UpdateAt], [l].[UserId], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [StockTransactions] AS [s]
INNER JOIN [Products] AS [p] ON [s].[ProductId] = [p].[ProductId]
INNER JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[SupplierId]
INNER JOIN [Lots] AS [l] ON [s].[LotId] = [l].[LotId]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[TransactionId] = @__id_0
2025-02-20 14:50:45.731 +07:00 [ERR] Li xy ra trong StockTransactionService
System.Collections.Generic.KeyNotFoundException: Khng tm thy giao dch vi ID 1.
   at Warehouse_Management.Services.Service.StockTransactionService.GetTransactionByIdAsync(Int32 id) in C:\Users\PC-PHUONG NAM\source\repos\SWD392\src be\Warehouse Management\Services\Service\StockTransactionService.cs:line 101
2025-02-20 14:50:45.737 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:50:45.738 +07:00 [INF] Executed action Warehouse_Management.Controllers.StockTransactionController.GetTransactionById (Warehouse Management) in 55.9373ms
2025-02-20 14:50:45.740 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionById (Warehouse Management)'
2025-02-20 14:50:45.741 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/StockTransaction/1 - 404 null application/json; charset=utf-8 76.2318ms
2025-02-20 14:50:53.269 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/1 - null null
2025-02-20 14:50:53.273 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:50:53.278 +07:00 [INF] Route matched with {action = "GetTransactionsByLotId", controller = "StockTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsByLotId(Int32) on controller Warehouse_Management.Controllers.StockTransactionController (Warehouse Management).
2025-02-20 14:50:53.307 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__lotId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TransactionId], [s].[LotId], [s].[ProductId], [s].[Quantity], [s].[SupplierId], [s].[TransactionDate], [s].[Type], [s].[UserId], [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId], [s0].[SupplierId], [s0].[CreateAt], [s0].[Email], [s0].[IsDeleted], [s0].[Name], [s0].[Phone], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [StockTransactions] AS [s]
INNER JOIN [Products] AS [p] ON [s].[ProductId] = [p].[ProductId]
INNER JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[SupplierId]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[LotId] = @__lotId_0
ORDER BY [s].[TransactionDate] DESC
2025-02-20 14:50:53.315 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:50:53.316 +07:00 [INF] Executed action Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management) in 36.6147ms
2025-02-20 14:50:53.319 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:50:53.324 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/1 - 200 null application/json; charset=utf-8 55.2949ms
2025-02-20 14:50:57.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/2 - null null
2025-02-20 14:50:57.813 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:50:57.815 +07:00 [INF] Route matched with {action = "GetTransactionsByLotId", controller = "StockTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsByLotId(Int32) on controller Warehouse_Management.Controllers.StockTransactionController (Warehouse Management).
2025-02-20 14:50:57.820 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lotId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TransactionId], [s].[LotId], [s].[ProductId], [s].[Quantity], [s].[SupplierId], [s].[TransactionDate], [s].[Type], [s].[UserId], [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId], [s0].[SupplierId], [s0].[CreateAt], [s0].[Email], [s0].[IsDeleted], [s0].[Name], [s0].[Phone], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [StockTransactions] AS [s]
INNER JOIN [Products] AS [p] ON [s].[ProductId] = [p].[ProductId]
INNER JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[SupplierId]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[LotId] = @__lotId_0
ORDER BY [s].[TransactionDate] DESC
2025-02-20 14:50:57.824 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:50:57.825 +07:00 [INF] Executed action Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management) in 7.953ms
2025-02-20 14:50:57.827 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:50:57.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/2 - 200 null application/json; charset=utf-8 18.6469ms
2025-02-20 14:51:01.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/3 - null null
2025-02-20 14:51:01.590 +07:00 [INF] Executing endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:51:01.592 +07:00 [INF] Route matched with {action = "GetTransactionsByLotId", controller = "StockTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsByLotId(Int32) on controller Warehouse_Management.Controllers.StockTransactionController (Warehouse Management).
2025-02-20 14:51:01.597 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lotId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[TransactionId], [s].[LotId], [s].[ProductId], [s].[Quantity], [s].[SupplierId], [s].[TransactionDate], [s].[Type], [s].[UserId], [p].[ProductId], [p].[Barcode], [p].[BasePrice], [p].[CreatedAt], [p].[Description], [p].[ProductName], [p].[SKU], [p].[UpdatedAt], [p].[UserId], [s0].[SupplierId], [s0].[CreateAt], [s0].[Email], [s0].[IsDeleted], [s0].[Name], [s0].[Phone], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[Status]
FROM [StockTransactions] AS [s]
INNER JOIN [Products] AS [p] ON [s].[ProductId] = [p].[ProductId]
INNER JOIN [Suppliers] AS [s0] ON [s].[SupplierId] = [s0].[SupplierId]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[Status]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'ApplicationUser'
) AS [a0] ON [s].[UserId] = [a0].[Id]
WHERE [s].[LotId] = @__lotId_0
ORDER BY [s].[TransactionDate] DESC
2025-02-20 14:51:01.602 +07:00 [INF] Executing ObjectResult, writing value of type 'Warehouse_Management.Helpers.ApiResponse'.
2025-02-20 14:51:01.604 +07:00 [INF] Executed action Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management) in 9.9661ms
2025-02-20 14:51:01.606 +07:00 [INF] Executed endpoint 'Warehouse_Management.Controllers.StockTransactionController.GetTransactionsByLotId (Warehouse Management)'
2025-02-20 14:51:01.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/StockTransaction/lot/3 - 200 null application/json; charset=utf-8 20.4084ms
